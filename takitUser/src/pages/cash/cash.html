<ion-header>
  <ion-navbar hideBackButton>
  </ion-navbar>
</ion-header>

<ion-content class="segmentButton">
   <ion-item>
        <ion-label class="textSet"><strong>사용가능 금액</strong></ion-label>
        <ion-label class="available-amount"><span>{{available}}</span> 원</ion-label>
    </ion-item>
    <ion-segment [(ngModel)]="cashMenu">
      <ion-segment-button outline  value="cashIn">
      입금하기
      </ion-segment-button>
      <ion-segment-button outline  value="cashHistory">
       전체내역
      </ion-segment-button>
      <ion-segment-button outline  value="cashOut">
       환불받기
      </ion-segment-button>
    </ion-segment>
</ion-content>

<ion-content [hidden]="cashMenu!='cashIn'">
        <ion-list>
            <ion-item>
                <ion-label class="textSet"><strong>캐쉬아이디(받는통장 표시내용)</strong></ion-label>
            </ion-item>
            <ion-row>
            <ion-item ion-col class="cashId">
                <ion-input class="cashIdValue" type="text" placeholder="설정버튼을 눌러주세요"></ion-input>
            </ion-item>
                <button ion-button class="config" (click)="configureCashId()">
                    <span>설정</span>
                </button>
            </ion-row>
            <!--
            <ion-item>
                <ion-label class="explain">- 영문, 숫자 등을 조합하여 7자리 캐쉬아이디를 설정해주세요
                </ion-label>
            </ion-item>
            -->
            <ion-item>
                <ion-label class="textSet">입금계좌 : 농협 301-2424-3636-21 (타킷주식회사)</ion-label>
            </ion-item>
            <ion-item class="explanations">        
                <p class="explain">
                - 계좌이체시 <span style="color:red"> 받는통장 표시내용</span>에 반드시 <span style="color:red">캐쉬아이디를 입력</span>해주시기 바랍니다. 
                </p>
                <p class="explain">
                - 한번에 <span style="color:red">5만원 이하</span>의 금액만 <span style="color:red">충전 가능</span>합니다. 5만원 초과 금액 입금시 캐쉬 충전이 되지 않습니다.
                </p> 
                <p class="explain">
                - 입금확인에 최대 5분이 소요될 수 있습니다. 계좌이체 이후 캐쉬 입금을 바로 확인하실려면 아래 <span style="color:blue">입금 바로 확인하기</span> 버튼을 클릭해주세요. 
                </p>
                <p class="explain">
                - 받는통장 표시내용에 캐쉬아이디를 입력하지 않았을 시에는 아래 계좌 이체 정보 입력을 통한 <span style="color:blue">입금 수동 확인하기</span>를 수행해주시기 바랍니다. 
                </p>
            </ion-item>
                <button ion-button full (click)="cashInCheck(input)"> 입금 바로 확인하기 </button>
            <div class="cashIn-check">
            <ion-item>
                <ion-grid class="cashIn-check-table">
                <ion-row center>
                    <ion-col>거래일시</ion-col>
                    <ion-col>
                    <ion-item>
                    <ion-input #input class="cashIn-check-inputBox" type="text"  ></ion-input>
                    </ion-item>
                    </ion-col>
                </ion-row>
                <ion-row center>
                    <ion-col>입금액</ion-col>
                    <ion-col>
                    <ion-item>
                    <ion-input #input class="cashIn-check-inputBox" type="text" placeholder="5000" ></ion-input>
                    </ion-item>
                    </ion-col>
                </ion-row>
                <ion-row center>
                    <ion-col>입금은행</ion-col>
                    <ion-col>
                    <ion-item>
                    <ion-input class="cashIn-check-inputBox" type="text" placeholder="우리"></ion-input>
                    </ion-item>
                    </ion-col>
                </ion-row>
                <ion-row center>
                    <ion-col>거래지점</ion-col>
                    <ion-col>
                    <ion-item>
                    <ion-input class="cashIn-check-inputBox" type="text" placeholder="과천" ></ion-input>
                    </ion-item>
                    </ion-col>
                </ion-row>
                    <ion-row center>
                    <ion-col>받는통장 표시내용</ion-col>
                    <ion-col>
                    <ion-item>
                    <ion-input class="cashIn-check-inputBox" type="text" placeholder="이경주" ></ion-input>
                    </ion-item>
                    </ion-col>
                </ion-row>

                </ion-grid>
            </ion-item>
            <!--
            <ion-item>
            <ion-label class="checkInfo">본인 입금임을 확인합니다.</ion-label>
            <ion-checkbox></ion-checkbox>
            </ion-item>
            -->
            <ion-item>
            <button ion-button block (click)="cashInComplete()">입금 수동 확인하기</button>
            </ion-item>
            </div>
        </ion-list>   
        <div class="dummy">
        </div>     
</ion-content>

<ion-content padding class="infiniteScroll" [hidden]="cashMenu!='cashHistory'">
      <ion-list padding [hidden]="transactions.length!=0">
      거래내역이 없습니다. 
      </ion-list>
      <ion-list [hidden]="transactions.length==0">
              <ion-item>
                <ion-row class="transactionLabel">
                    <ion-col>거래일</ion-col>
                    <ion-col>구분</ion-col>
                    <ion-col>금액</ion-col>
                    <ion-col>잔액</ion-col>
                </ion-row>
              </ion-item>
              <ion-item *ngFor="let tr of transactions">
                <ion-row class="transaction">
                    <ion-col>{{tr.date}}</ion-col>
                    <ion-col *ngIf="tr.type!='확인'">{{tr.type}}</ion-col>
                    <ion-col *ngIf="tr.type=='확인'"> <button ion-button >{{tr.type}}</button></ion-col>
                    <ion-col>{{tr.amount}}</ion-col>
                    <ion-col>{{tr.balance}}</ion-col>
                </ion-row>
              </ion-item>
      </ion-list>        

 <ion-infinite-scroll (ionInfinite)="doInfinite($event)" [hidden]="transactions.length==0">
   <ion-infinite-scroll-content></ion-infinite-scroll-content>
 </ion-infinite-scroll>
 <div class="scrollDummy">
 </div>
</ion-content>

<ion-content [hidden]="cashMenu!='cashOut'" class="cashOut" >
        <ion-list>
            <ion-item>
              <ion-label class="textSet"><strong>등록 환불 계좌 </strong></ion-label>
            </ion-item>
            <ion-row>
            <ion-item ion-col class="cashOut-text">
                <ion-label>예금주</ion-label>
            </ion-item>
            <ion-item ion-col class="input">
                <ion-input class="inputBox" type="text" placeholder="이영숙"></ion-input>
            </ion-item>
            </ion-row>

            <ion-row>
            <ion-item ion-col class="cashOut-text">
                <ion-label>은행</ion-label>
            </ion-item>
            <ion-item class="bankSelect">
                <ion-label></ion-label>
                <ion-select [(ngModel)]="bank">
                <ion-option value="기업">IBK기업은행</ion-option>
                <ion-option value="국민">국민은행</ion-option>
                <ion-option value="농협" checked="true">농협은행</ion-option>
                <ion-option value="외환">외환은행</ion-option>
                <ion-option value="우리">우리은행</ion-option>
                <ion-option value="제일">SC제일은행</ion-option>
                <ion-option value="신한">신한은행</ion-option>
                <ion-option value="하나">하나은행</ion-option>
                <ion-option value="씨티">씨티은행</ion-option>
                </ion-select>
            </ion-item>
            </ion-row>

            <ion-row>
            <ion-item ion-col class="cashOut-text">
                <ion-label>계좌번호</ion-label>
            </ion-item>
            <ion-item ion-col class="input">
                <ion-input class="inputBox" type="text" placeholder="1002*******9408"></ion-input>
            </ion-item>
            </ion-row>
            <ion-item>
                <ion-label class="explain">
                    - 캐쉬를 고객님의 계좌로 이체합니다. 이체 수수료는 월 4회 이하 무료이나 4회를 초과하는 경우 농협계좌 150원, 타행 400원의 수수료가 차감되어 이체됩니다.
                </ion-label>
            </ion-item>
            <ion-row>
            <ion-item ion-col class="cashId">
                <ion-input class="cashIdValue" type="number" placeholder="환불금액"></ion-input>
            </ion-item>
                <button ion-button  class="cashOut">
                    <span>환불신청</span>
                </button>
            </ion-row>
            
        </ion-list>         
</ion-content>
